<template>
  <template lwc:if={game}>
    <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01"
      class="slds-modal slds-fade-in-open slds-modal_large">
      <div class="slds-modal__container">
        <div class="slds-modal__header">
          <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate" tabindex="-1">
            {game.Name}
          </h1>
        </div>
        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
          <template lwc:if={enterGame}>

          </template>
          <template lwc:else>
            <div class="slds-grid slds-gutters">
              <div class="slds-col slds-size_1-of-3">
                <img src={game.Image} alt={game.Name} class="game-thumbnail border">
              </div>
              <div class="slds-col slds-size_2-of-3">
                <lightning-formatted-rich-text value={game.Description__c}></lightning-formatted-rich-text>
                <div style="margin-top: 8px;">
                  <template lwc:if={cannotStartGame}>
                    <p><small class="text-danger">This game cannot be started at the moment.</small></p>
                  </template>
                  <button class="slds-button slds-button_brand" disabled={cannotStartGame} data-slug={game.Slug__c} onclick={handleStartGame}>
                    Start game
                  </button>
                </div>
              </div>
            </div>
          </template>
        </div>
        <div class="slds-modal__footer">
          <button class="slds-button slds-button_destructive" onclick={handleCloseGame}>Close</button>
        </div>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
  </template>
  <template lwc:else>
    No game chosen.
  </template>
</template>